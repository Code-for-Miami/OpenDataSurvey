<!DOCTYPE html>
<<<<<<< HEAD
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <title></title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width">

        <link rel="stylesheet" href="css/bootstrap.min.css">
        <style>
            body {
                padding-top: 50px;
                padding-bottom: 20px;
            }
        </style>
        <link rel="stylesheet" href="css/bootstrap-theme.min.css">
        <link rel="stylesheet" href="css/main.css">

        <script src="js/vendor/modernizr-2.6.2-respond-1.1.0.min.js"></script>
    </head>
    <body>
    <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="#">Project name</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="#">Home</a></li>
            <li><a href="#about">About</a></li>
            <li><a href="#contact">Contact</a></li>
            <li class="dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown">Dropdown <b class="caret"></b></a>
              <ul class="dropdown-menu">
                <li><a href="#">Action</a></li>
                <li><a href="#">Another action</a></li>
                <li><a href="#">Something else here</a></li>
                <li class="divider"></li>
                <li class="dropdown-header">Nav header</li>
                <li><a href="#">Separated link</a></li>
                <li><a href="#">One more separated link</a></li>
              </ul>
            </li>
          </ul>
          <form class="navbar-form navbar-right">
            <div class="form-group">
              <input type="text" placeholder="Email" class="form-control">
            </div>
            <div class="form-group">
              <input type="password" placeholder="Password" class="form-control">
            </div>
            <button type="submit" class="btn btn-success">Sign in</button>
          </form>
        </div><!--/.navbar-collapse -->
      </div>
    </div>

    <!-- Main jumbotron for a primary marketing message or call to action -->
    <div class="jumbotron">
      <div class="container">
        <h1>Hello, world!</h1>
        <p>This is a template for a simple marketing or informational website. It includes a large callout called the hero unit and three supporting pieces of content. Use it as a starting point to create something more unique.</p>
        <p><a class="btn btn-primary btn-lg">Learn more &raquo;</a></p>
      </div>
    </div>

    <div class="container">
      <!-- Example row of columns -->
      <div class="row">
        <div class="col-lg-4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn btn-default" href="#">View details &raquo;</a></p>
        </div>
        <div class="col-lg-4">
          <h2>Heading</h2>
          <p>Donec id elit non mi porta gravida at eget metus. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus. Etiam porta sem malesuada magna mollis euismod. Donec sed odio dui. </p>
          <p><a class="btn btn-default" href="#">View details &raquo;</a></p>
       </div>
        <div class="col-lg-4">
          <h2>Heading</h2>
          <p>Donec sed odio dui. Cras justo odio, dapibus ac facilisis in, egestas eget quam. Vestibulum id ligula porta felis euismod semper. Fusce dapibus, tellus ac cursus commodo, tortor mauris condimentum nibh, ut fermentum massa justo sit amet risus.</p>
          <p><a class="btn btn-default" href="#">View details &raquo;</a></p>
        </div>
      </div>

      <hr>

      <footer>
        <p>&copy; Company 2013</p>
      </footer>
    </div> <!-- /container -->        <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
        <script>window.jQuery || document.write('<script src="js/vendor/jquery-1.10.1.min.js"><\/script>')</script>

        <script src="js/vendor/bootstrap.min.js"></script>

        <script src="js/main.js"></script>
    </body>
=======
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <title>Miami Open Data Survey</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Promoting open data and open government in Miami and Miami-Dade County.">
    <link rel="shortcut icon" href="favicon.ico" />
    <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/css/bootstrap-combined.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.3.0/js/bootstrap.min.js"></script>
    
    <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>

  <body>

    <!-- NAVBAR
    ================================================== -->
    <div class="navbar-wrapper">
      <!-- Wrap the .navbar in .container to center it within the absolutely positioned parent. -->
      <div class="container">

        <div class="navbar navbar-fixed-top navbar-inverse">
          <div class="navbar-inner">
            <!-- Responsive Navbar Part 1: Button for triggering responsive navbar. Include responsive CSS to utilize. -->
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </a>
            <a class="brand" href="#"><span class="c4mred">Miami</span> <span class="c4mblue">Open Data Survey</span></a>
            <!-- Responsive Navbar Part 2: Place all navbar contents you want collapsed withing .navbar-collapse.collapse. -->
            <div class="nav-collapse collapse">
              <ul class="nav">
                <li class="active"><a href="#About">About the Survey</a></li>
                <li><a href="#Survey">The Survey</a></li>
                <li><a href="#Results">Results</a></li>
                <li><a href="#Supporters">Supporters</a></li>
                <li><a href="#Contact">Contact us</a></li>
            </div><!--/.nav-collapse -->
          </div><!-- /.navbar-inner -->
        </div><!-- /.navbar -->

      </div> <!-- /.container -->
    </div><!-- /.navbar-wrapper -->


    <!-- Marketing messaging and featurettes
    ================================================== -->
    <!-- Wrap the rest of the page in another container to center all the content. -->


 <hr class="featurette-divider">

      <div class="featurette">
        <img class="featurette-image pull-left" id="About" style="padding-bottom: 75px" src="images/data.png" alt="data" />
        <h2 class="featurette-heading"><span class="c4mblue">Miami Open Data Survey:</span> <br/><span class="muted">Seeking insight from candidates on local transparency and records access.</span></h2>
        <p class="lead">
         We are <a href="http://codeformiami.org">Code for Miami,</a> a local, volunteer brigade of <a href="http://codeforamerica.org">Code for America,</a> a non-profit organization of citizens, technologists and public servants working together to address civic and community issues through open data and technology. We’re sending every local candidate in the 2014 elections this survey to help voters understand candidates' ideas and approaches on transparency and open data. 

        <h3>What is open data?</h3>
        <p>Open data is the idea that citizens should have quick and inexpensive access to download and use the raw data that governments control. Historically, access to this data has only been available via formal data requests to government entities, sometimes at significant expense. Nationally, Code for America has helped launch more than 20 civic applications created by citizens to make to government services more accessible to constituents. Across the nation, cities are enabling this access by passing resolutions, executive orders, and ordinances that promote or mandate the release of city data.</p>
        
        <h3>Why does open data matter?</h3>
        <p>We think that open access to government data is a vital issue. It is the tool of government transparency for our time, the foundation of community and civic technology innovation, and an enabler of democratic participation in government processes. For these reasons, we would like to understand the stance of candidates for Mayor, County Commission and City Councils regarding open data.</p>
        </p>
      </div>

  <hr class="featurette-divider">

      <div class="featurette">
      <img name="groups" id="groups" class="featurette-image pull-left" src="images/questions.png" alt="questions" />
        <h2 class="featurette-heading">The Survey</span></h2>
        <p class="lead">Here are the questions we're sending candidates:</p>
        <p><i>Candidate responses will be published by Code for Miami and shared with media.</i></p>
 
        <p class="lead">1. What is your general view on government making Open Data available to citizens? Based on your experience, does Miami currently provide enough Open Data?</p>
        <p class="lead">2. How will your administration use technology and information to create new opportunities for resident participation in public decision-making processes?</p>
        <p class="lead">3. How will your administration support making Open Data available for economic development and social entrepreneurship? </p>
        <p class="lead">4. If elected would you consider signing an “Open Data” pledge?</p>

      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <a id="Results">
          <img name="groups" id="groups" class="featurette-image pull-left" src="images/community.png" alt="community" />
        </a>
        <h2 class="featurette-heading">Results</h2>
        <p class="lead">
          Results will be posted here as candidates respond to the survey.
      </div>

      <div class="featurette">
        <img class="featurette-image pull-left" id="Supporters" style="padding-bottom: 75px" src="images/handshake.png" alt="handshake" />
        <h2 class="featurette-heading">Supporters</h2>
        <p class="lead">The following organizations have signed on to support this effort:</p>
      </div>

      <hr class="featurette-divider">

      <div class="featurette">
        <img name="contact" id="contact" class="featurette-image pull-right" src="">
        <h2 id="Contact" class="featurette-heading">Contact us</h2>
        <p class="lead">Code for Miami Brigade Captains are Ernie Hsiung (<a href="mailto:ehsiung@codeforamerica.org">ehsiung at codeforamerica.org</a> ) and Rebekah Monson (<a href="mailto:rmonson@codeforamerica.org">rmonson at codeforamerica.org</a> ). If you have questions or comments about the survey, we want to hear from you.</p>
      </div>

      <hr class="featurette-divider">

      <!-- /END THE FEATURETTES -->


      <!-- FOOTER -->
      <footer>
        <p class="pull-right"><a href="#">Back to top</a></p>
        <p>...People trying to Make Miami-Dade County even better...</p>
        <p>Built and Maintained by <a href="http://codeformiami.org">Code for Miami. Site Design Based on <a href="http://twitter.github.com/bootstrap">Bootstrap</a>, Some Images Provided by <a href="http://thenounproject.com">The Noun Project</a> and <a href="http://aerostylaz.deviantart.com/gallery/?q=miami">Aerostylaz</a>.</p>
      </footer>

    </div><!-- /.container -->
  </body>
<script src="js/bootstrap-tooltip.js"></script>
<script>
// Include the UserVoice JavaScript SDK (only needed once on a page)
UserVoice=window.UserVoice||[];(function(){var uv=document.createElement('script');uv.type='text/javascript';uv.async=true;uv.src='//widget.uservoice.com/yprmU4gNZhVrvP2N9ks2cQ.js';var s=document.getElementsByTagName('script')[0];s.parentNode.insertBefore(uv,s)})();

//
// UserVoice Javascript SDK developer documentation:
// https://www.uservoice.com/o/javascript-sdk
//

// Set colors
UserVoice.push(['set', {
  accent_color: '#448dd6',
  trigger_color: 'white',
  trigger_background_color: '#448dd6'
}]);

// Identify the user and pass traits
// To enable, replace sample data with actual user traits and uncomment the line
UserVoice.push(['identify', {
  //email:      'john.doe@example.com', // User’s email address
  //name:       'John Doe', // User’s real name
  //created_at: 1364406966, // Unix timestamp for the date the user signed up
  //id:         123, // Optional: Unique id of the user (if set, this should not change)
  //type:       'Owner', // Optional: segment your users by type
  //account: {
  //  id:           123, // Optional: associate multiple users with a single account
  //  name:         'Acme, Co.', // Account name
  //  created_at:   1364406966, // Unix timestamp for the date the account was created
  //  monthly_rate: 9.99, // Decimal; monthly rate of the account
  //  ltv:          1495.00, // Decimal; lifetime value of the account
  //  plan:         'Enhanced' // Plan name for the account
  //}
}]);

// Add default trigger to the bottom-right corner of the window:
UserVoice.push(['addTrigger', { mode: 'smartvote', trigger_position: 'bottom-right' }]);

// Or, use your own custom trigger:
//UserVoice.push(['addTrigger', '#id', { mode: 'smartvote' }]);

// Autoprompt for Satisfaction and SmartVote (only displayed under certain conditions)
UserVoice.push(['autoprompt', {}]);
</script>
<script>  	

  $(document).ready(function(){	
	

	    $('.carousel').carousel({
	      interval: 5000
	    })

    //GLOBAL VARIABLES HERE//
 var apiKey = "2975b6e4c43147824522959761677",
        meetupGroupUrl = "Code-for-Miami";

    var memberList = new Array();
   
    //get the next event
    $.getJSON("http://api.meetup.com/2/events?status=upcoming&order=time&limited_events=False&group_urlname=Code-For-Miami&desc=false&offset=0&format=json&page=20&fields=&sig_id=14485765&sig=ee64791e1ab7c9e6f82c5f5e47c85118fa698fd6&callback=?",function(upcomingData) { 

      eventTime = upcomingData.results[0].time;
      
      //currentTime = eventTime + 1 //testing value
      currentTime = new Date().getTime();
      eventEndTime = eventTime + 60000*60*3;
      //eventEndTime = eventTime + upcomingData.results[0].duration;
      //the above line only works if a specific end time is set.

      //console.log("Current Time is " + currentTime)
      //console.log("Event End Time is " + eventEndTime);
      eventId = upcomingData.results[0].id;

      if (currentTime >= eventTime && currentTime < eventEndTime) { 
        //console.log("Time to rock!");
        
        var memberbox = "<div class='memberbox'></div>";
        $(".carousel-caption").append(memberbox);
        //$(".memberbox").hide();

        //testing value for eventId
        //eventId = "113850802";

      function showThumbnails() {
        
        //get the checkin data for the next event
        $.getJSON("https://api.meetup.com/2/checkins?key="+apiKey+"&sign=true&event_id="+eventId+"&page=20&callback=?",function(checkinData) {

            howMany = checkinData.meta.count;

            //if there's nobody checked in, there's nothing to see here.  
            if (howMany === 0) {

              console.log("Nobody is checked in yet.");

              $(".memberbox").html("<h2>Nobody has checked in yet.</h2>");
              $(".memberbox").slideDown();
              

            //else, let's get those thumbnails up and running.  
            } else if (howMany >= 1) {

              $.each(checkinData.results, function(i,checkinData) {

                //console.log(checkinData.member_id);

                $.getJSON("https://api.meetup.com/2/member/"+checkinData.member_id+"?key="+apiKey+"&&sign=true&page=20&callback=?", function(memberData) { 
                    
                    var memberName = memberData.name,
                        toolTips = "<a class='tip' href='#' data-toggle='tooltip' data-placement='bottom' data-original-title='"+memberData.name+"'>", 
                        memberPix  = memberData.photo.thumb_link,
                        memberThumb = toolTips +"<img class='pix-thumb' src='"+memberPix+"' alt='"+ memberData.name +"'/></a>";
                    
                    if (memberList.indexOf(memberName) === -1) {
                        
                        memberList.push(memberName);
                        $(memberThumb).appendTo($(".memberbox"));

                    } else {
                      //do nothing
                    } 
                                      
                    $('.tip').tooltip();

                });

              });

              //event information  
              $.getJSON("https://api.meetup.com/2/events?key="+apiKey+"&sign=true&event_id="+eventId+"&page=20&callback=?", function(eventData) { 

                  var eventName = eventData.results[0].name,
                    eventLocation = eventData.results[0].venue.name,
                    eventStAddress = eventData.results[0].venue.address_1,
                    eventCity = eventData.results[0].venue.city,
                    eventState = eventData.results[0].venue.state,
                    eventURL = eventData.results[0].event_url,
                    memberCount = memberList.length,
                    eventCheckin = "<p id='checkins'>"+memberCount+" Civic Hackers are checked in at <a href='http://maps.google.com/maps?q="+eventStAddress+" "+eventCity+" "+eventState+"'>"+eventLocation+"</a> for <a href='"+eventURL+"'>"+eventName+"</a>.</p>";

                  console.log(memberCount);

                $(window).load(function(){

                  $(eventCheckin).appendTo($(".memberbox"));
                  $(".memberbox").slideDown();

                });

              });            
              
            }

          });
      
      }

      showThumbnails();



      } else {
        console.log("Nothing to see here.");
      }

      });

    });

</script>
>>>>>>> master
</html>
